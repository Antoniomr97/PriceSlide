<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PriceSlice</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='form.css') }}"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="login-container">
      <h1>PriceSlice</h1>
      <form action="{{ url_for('register') }}" method="POST">
        <!-- Introducen un campo oculto para protegerse de ataques -->
        {{ form.hidden_tag() }}

        <!-- Input nombre y el error por si falla -->
        <input type="text" name="username" placeholder="User Name" required />
        {% if form.username.errors %}
        <div class="error">{{ form.username.errors[0] }}</div>
        {% endif %}

        <!-- Input de la contraseña -->
        <input
          type="password"
          name="password"
          placeholder="Password"
          required
        />
        {% if form.password.errors %}

        <!-- Controlamos el error que nos proporciona Flask-WTF -->
        <div class="error">{{ form.password.errors[0] }}</div>
        {% endif %}

        <!-- Input confirmación de contraseña -->
        <input
          type="password"
          name="confirm_password"
          placeholder="Confirm Password"
          required
        />
        {% if form.confirm_password.errors %}
        <div class="error">{{ form.confirm_password.errors[0] }}</div>
        {% endif %}

        <!-- Boton de registrar -->
        <input type="submit" value="Register" />
      </form>

      <a href="{{ url_for('login') }}"
        >Do you already have an account? Log in here</a
      >
    </div>
  </body>
</html>
